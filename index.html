<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rigid Setup Box Dieline Generator</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 1.5rem;
      background: #f5f5f5;
      color: #222;
    }
    h1 { font-size: 1.4rem; margin-bottom: 0.5rem; }
    h2 { font-size: 1.1rem; margin: 0 0 0.5rem 0; }
    .card {
      background: #fff;
      border-radius: 8px;
      padding: 1rem 1.25rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      margin-bottom: 1rem;
    }
    label {
      display: block;
      font-size: 0.85rem;
      margin-top: 0.5rem;
      margin-bottom: 0.15rem;
    }
    input[type="text"],
    input[type="number"],
    select {
      width: 100%;
      max-width: 240px;
      padding: 0.35rem 0.5rem;
      border-radius: 4px;
      border: 1px solid #ccc;
      font-size: 0.9rem;
      background: #fff;
    }
    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      align-items: flex-end;
    }
    .row > div { min-width: 190px; }
    button {
      padding: 0.4rem 0.9rem;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      background: #005bbb;
      color: #fff;
      margin-top: 0.75rem;
      margin-right: 0.5rem;
    }
    button:hover { background: #004999; }
    .preview-wrapper {
      overflow: auto;
      background: #fff;
      border-radius: 8px;
      padding: 0.75rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      max-height: 80vh;
      margin-bottom: 1rem;
    }
    .preview svg {
      border: 1px solid #ddd;
      background: #fafafa;
    }
    .download-link {
      display: inline-block;
      margin-top: 0.5rem;
      font-size: 0.9rem;
      margin-right: 0.75rem;
    }
    .status {
      margin-top: 0.75rem;
      padding: 0.6rem 0.75rem;
      border-radius: 6px;
      border: 1px solid #cfe0ff;
      background: #f1f5ff;
      color: #123;
      font-size: 0.9rem;
      max-width: 900px;
    }
    .status.bad {
      border-color: #ffd0d0;
      background: #fff1f1;
      color: #410;
    }
  </style>
</head>
<body>

<div class="card">
  <h1>Rigid Setup Box Dieline Generator</h1>
  <p style="font-size:0.9rem; max-width: 900px;">
    Grain rule (locked): chipboard grain runs parallel with the <b>Length (L)</b> of the base and lid. Period.
    Choose whether the sheet grain runs parallel to the sheet <b>Width</b> or <b>Height</b>.
    The layout rotates dielines to enforce L-to-grain.
  </p>
</div>

<!-- BASE -->
<div class="card">
  <h2>Base Dieline</h2>
  <div class="row">
    <div><label>Description</label><input id="description" type="text"></div>
    <div><label>Length</label><input id="length" type="number" step="0.0001"></div>
    <div><label>Width</
